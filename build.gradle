/**
    Builds unitypackages for the Analytics and SmartAds projects.
*/

task deltaDNAPackage(type: Exec) {

    executable = '/Applications/Unity/Unity.app/Contents/MacOS/Unity'

    def logFile = file("$buildDir/unityPackage.log")
    logFile.parentFile.mkdirs()

    args = ['-batchMode',
        '-quit',
        '-logFile',
        logFile,
        '-executeMethod',
        'DeltaDNA.BuildScript.ExportDeltaDNAPackage']
}

task deltaDNAAdsPackage(type: Exec) {

    executable = '/Applications/Unity/Unity.app/Contents/MacOS/Unity'

    def logFile = file("$buildDir/unityPackage.log")
    logFile.parentFile.mkdirs()

    args = ['-batchMode',
        '-quit',
        '-logFile',
        logFile,
        '-executeMethod',
        'DeltaDNA.BuildScript.ExportDeltaDNAAdsPackage']
}

task buildUnityPackages(dependsOn: [deltaDNAPackage, deltaDNAAdsPackage]) {

}
